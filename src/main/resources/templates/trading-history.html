<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Trading History â€” Orders</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 min-h-screen">
<header class="bg-blue-600 text-white p-4 flex justify-between items-center">
    <div class="logo font-bold text-xl">TradeApp</div>
    <nav class="space-x-4">
        <a href="/dashboard" class="hover:underline">Dashboard</a>
        <a href="/place-order" class="hover:underline">Place Order</a>
        <a href="/trade-book" class="hover:underline">Trade Book</a>
        <a href="/auth/logout" class="hover:underline">Logout</a>
    </nav>
</header>
<div class="flex">
    <aside class="w-64 bg-white shadow-md p-4">
        <ul class="space-y-2">
            <li><a href="/account-info" class="block hover:bg-gray-100 p-2 rounded">Account Info</a></li>
            <li><a href="/portfolio" class="block hover:bg-gray-100 p-2 rounded">View Portfolio</a></li>
            <li><a href="/place-order" class="block hover:bg-gray-100 p-2 rounded">Place Order</a></li>
            <li><a href="/trading-history" class="block hover:bg-gray-100 p-2 rounded">Trading History</a></li>
            <li><a href="/trade-book" class="block hover:bg-gray-100 p-2 rounded">Trade Book</a></li>
        </ul>
    </aside>
<main class="p-6">
    <h1 class="text-xl font-bold mb-4">Order Book</h1>

    <div th:if="${orderBook == null}">
        <p class="text-gray-500">No order book data available.</p>
    </div>

    <div th:if="${orderBook != null}">
        <div th:if="${orderBook.data != null and #lists.isEmpty(orderBook.data) == false}">
            <table class="min-w-full bg-white">
                <thead>
                <tr>
                    <th class="p-2 text-left">Order ID</th>
                    <th class="p-2 text-left">Symbol</th>
                    <th class="p-2 text-left">Qty</th>
                    <th class="p-2 text-left">Price</th>
                    <th class="p-2 text-left">Status</th>
                    <th class="p-2 text-left">Time</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="o : ${orderBook.data}">
                    <td class="p-2" th:text="${o.orderid}">-</td>
                    <td class="p-2" th:text="${o.tradingsymbol}">-</td>
                    <td class="p-2" th:text="${o.quantity}">-</td>
                    <td class="p-2" th:text="${o.price}">-</td>
                    <td class="p-2" th:text="${o.orderstatus}">-</td>
                    <td class="p-2" th:text="${o.updatetime}">-</td>
                </tr>
                </tbody>
            </table>
        </div>

        <div th:if="${orderBook.data == null or #lists.isEmpty(orderBook.data)}">
            <p class="text-gray-500">No orders found.</p>
        </div>
    </div>
</main>
</div>
</body>
</html>
